!function(t,e){"use strict";var i=function(i,s){this._element=i;i.__ivInstance=this;this.$e=t(i);this._itemSelector=s["itemSelector"]||".item";this._loop=s["loop"]==undefined?true:s["loop"];this._showThumb=s["showThumb"]||false;this._animateTime=s["animateTime"]==undefined?500:s["animateTime"];this._animateInEase=s["animateInEase"]||"sineOut";this._animateOutEase=s["animateOutEase"]||"sineOut";this._cd=s["cd"]==undefined?300:s["cd"];this._fadeTime=s["fadeTime"]==undefined?500:s["fadeTime"];this._showTitle=s["showTitle"]==undefined?true:s["showTitle"];this._skinStyle=s["skinStyle"]==undefined?"dark":s["skinStyle"];this._dragDistance=s["dragDistance"]==undefined?30:s["dragDistance"];this._closeHandler=s["closeHandler"]||null;if(e["PT_IV_LOOP"]!=undefined){this._loop=e["PT_IV_LOOP"]}if(e["PT_IV_SHOW_THUMB"]!=undefined){this._showThumb=e["PT_IV_SHOW_THUMB"]}createjs.Ticker.timingMode=createjs.Ticker.RAF;this._isIE9=navigator.userAgent.indexOf("MSIE 9.0")>-1;this._stageWidth=0;this._isDevice=/Mobi|Tablet|iPad|iPhone|Android/i.test(navigator.userAgent);this._clickEvt=this._isDevice?"touchend mouseup":"click";this._downEvt="touchstart mousedown";this._moveEvt="touchmove mousemove";this._upEvt="touchend mouseup";this._allowCalls=["open","dispose"];this._isRTL=(t("body").css("direction")||"").toLowerCase()=="rtl";this._inCD=false;this._lastTapTime=0;this._oldMouseX=0;this._startDragX=0;this._currentX=0;this._dragTarget=null;this._canDrag=true;this._stageItems=[];this.$items=null;this._items=[];this._total=0;this._emptyData="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var n=this._showThumb?"pt-iv-has-thumb ":"";n+=this._skinStyle;n+=" pt-iv-show-thumbs";if(this._isDevice){n+=" is-device"}this.$html=t('<div class="pt-iv-root '+n+'">'+'<div class="pt-iv-container"></div>'+'<div class="pt-iv-prev pt-iv-btn"><i></i></div>'+'<div class="pt-iv-next pt-iv-btn"><i></i></div>'+'<div class="pt-iv-close pt-iv-btn"><i></i></div>'+'<div class="pt-iv-title"><i></i><p></p></div>'+'<div class="pt-iv-number"><i>1</i><i>/</i><i>'+this._total+"</i></div>"+'<ul class="pt-iv-thumb-list"></ul>'+(this._showThumb?'<div class="pt-iv-thumbs-toggle"><i></i></div>':"")+"</div>");this.$html.fadeOut(0);this.$thumbSource=t('<li class="pt-iv-thumb-item"><img src="'+this._emptyData+'" alt=""></li>');this.$thumbList=this.$html.find(".pt-iv-thumb-list");this.$currentNum=this.$html.find(".pt-iv-number>i:nth-child(1)");this.$totalNum=this.$html.find(".pt-iv-number>i:nth-child(3)");this.$title=this.$html.find(".pt-iv-title>p");this.$imgContent=this.$html.find(".pt-iv-container");this._imgItems=[];this._thumbItems=[];var a=this._clickEvt;if(!this._isDevice){this.$html.on("click",function(e){var i=t(e.target);if(i.hasClass("pt-iv-item")||i.hasClass("pt-iv-loading")){e.preventDefault();e.stopPropagation();this._onClose()}}.bind(this))}if(this._isRTL){this.$prevBtn=this.$html.find(".pt-iv-next");this.$nextBtn=this.$html.find(".pt-iv-prev")}else{this.$prevBtn=this.$html.find(".pt-iv-prev");this.$nextBtn=this.$html.find(".pt-iv-next")}this.$prevBtn.on(a,function(t){this._onPrev()}.bind(this));this.$nextBtn.on(a,function(t){this._onNext()}.bind(this));this.$html.find(".pt-iv-close").on(a,function(t){t.preventDefault();t.stopPropagation();this._onClose()}.bind(this));this.$html.on("wheel",function(t){var e=t.originalEvent;e.deltaY<0?this._onPrev():e.deltaY>0?this._onNext():""}.bind(this));if(this._showThumb){this.$html.find(".pt-iv-thumbs-toggle").on(a,function(t){t.preventDefault();t.stopPropagation();this.$html.toggleClass("pt-iv-show-thumbs")}.bind(this))}this._onOpenHandler=this._onOpen.bind(this);this._onKeyUpHandler=this._onKeyUp.bind(this);this._onResizeHandler=this._onResize.bind(this);this._onDraggingHandler=this._onDragging.bind(this);this._onDragEndHandler=this._onDragEnd.bind(this);this.updateData()};var s=i.prototype;s.updateData=function(){this.$items=this.$e.find(this._itemSelector);this._items.length=0;this.$items.each(function(t,e){this._items.push(e)}.bind(this));this._total=this._items.length;this.$items.off("click",this._onOpenHandler).on("click",this._onOpenHandler);if(this._total<2){this.$prevBtn.addClass("pt-iv-btn-disabled");this.$nextBtn.addClass("pt-iv-btn-disabled")}this.$totalNum.html(this._total);if(this._showThumb){this.$thumbList.empty();this._thumbItems.length=0;var e,i,s,n=this._downEvt;for(var a=0;a<this._total;a++){i=this._items[a];e=t(i).data("thumb");s=this.$thumbSource.clone();s.children("img").attr("src",e);s.on(n,this._onClickThumb.bind(this));this.$thumbList.append(s);this._thumbItems.push(s)}}};s.open=function(t){t=t||0;if(t<0){t=0}else if(t>this._total-1){t=this._total-1}this._currentIndex=t;this._onOpen(null)};s._onClickThumb=function(e){e.preventDefault();e.stopPropagation();var i=t(e.currentTarget);var s=i.index();if(s==this._currentIndex){return}this.open(s)};s._onResize=function(t){this._stageWidth=this.$html.width();var e=this._thumbItems[this._currentIndex];this._updateThumbListPos(e)};s._onKeyUp=function(t){switch(t.keyCode){case 37:case 38:this._onPrev();break;case 39:case 40:this._onNext();break;case 27:this._onClose();break}};s._onPrev=function(){if(this._checkInCD())return;this.$html.removeClass("pt-iv-first-open");var e=this._currentIndex;e--;if(e<0){e=this._loop?this._total-1:0}if(this._currentIndex!=e){this._currentIndex=e;this.$currentNum.html(e+1);var i=this._items[e];if(i){this._showImage(t(i).attr("href")||t(i).data("src"),t(i).data("title"),1,true)}}};s._onNext=function(){if(this._checkInCD())return;this.$html.removeClass("pt-iv-first-open");var e=this._currentIndex;e++;if(e>this._total-1){e=this._loop?0:this._total-1}if(this._currentIndex!=e){this._currentIndex=e;this.$currentNum.html(e+1);var i=this._items[e];if(i){this._showImage(t(i).attr("href")||t(i).data("src"),t(i).data("title"),-1,true)}}};s._showImage=function(e,i,s,n){this._canDrag=false;this._stageItems.forEach(function(t){var e=s==-1?-this._stageWidth:this._stageWidth;if(this._isRTL)e=-e;createjs.Tween.get(t,{override:true,onChange:this._onUpdate.bind(this)}).to({__tweenX:e},n?this._animateTime:0,createjs.Ease[this._animateOutEase]||createjs.Ease.sineOut).call(this._onTweenOutEnd.bind(this,t))},this);this._stageItems.length=0;var a=this._getImageItem(e);this.$imgContent.append(a);var h=s==-1?this._stageWidth:-this._stageWidth;if(this._isRTL)h=-h;this._renderX(t(a),h);a.__tweenX=h;createjs.Tween.get(a,{override:true,onChange:this._onUpdate.bind(this)}).to({__tweenX:0},n?this._animateTime:0,createjs.Ease[this._animateInEase]||createjs.Ease.sineOut).call(this._onTweenInEnd.bind(this));if(this._showTitle){this.$title.fadeOut(n?this._animateTime>>1:0,function(t){this.$title.html(t).fadeIn(this._animateTime>>1)}.bind(this,i))}this._stageItems.push(a);this.$thumbList.children(".pt-iv-thumb-item").removeClass("selected");var r=this._thumbItems[this._currentIndex];r&&r.addClass("selected");this._updateThumbListPos(r);this._updateArrow()};s._updateThumbListPos=function(t){var e=this.$thumbList.width();if(e<this._stageWidth){this.$thumbList.css("left",(this._stageWidth-e>>1)+"px");return}var i=0;if(t){i=this._stageWidth/2-t.offset().left-t.width()/2}var s=this.$thumbList.position().left+i;if(s>0){s=0}else if(s<this._stageWidth-e){s=this._stageWidth-e}this.$thumbList.css("left",s+"px")};s._dragBack=function(){createjs.Tween.get(this._dragTarget,{override:true,onChange:this._onUpdate.bind(this)}).to({__tweenX:0},this._animateTime,createjs.Ease[this._animateOutEase]||createjs.Ease.sineOut).call(this._onDragBack.bind(this))};s._onDragBack=function(){this._canDrag=true};s._onTweenInEnd=function(){this._canDrag=true};s._onTweenOutEnd=function(e){this._imgItems.push(e);t(e).find("img").attr("src",this._emptyData);t(e).remove()};s._renderX=function(t,e){if(this._isIE9){t.css("transform","translateX("+e+"px)")}else{t.css("transform","translate3d("+e+"px,0,0)")}};s._onUpdate=function(e){var i=e.target;var s=i.target;this._renderX(t(s),s.__tweenX)};s._onOpen=function(i){if(i){i.preventDefault();i.stopPropagation()}if(this._checkInCD())return;var s;if(i){s=i.currentTarget;this._currentIndex=this._items.indexOf(s)}else{s=this._items[this._currentIndex]}if(!s){return}this.$html.addClass("pt-iv-first-open");t("body").addClass("pt-iv-modal").append(this.$html);this.$html.addClass("pt-iv-fading pt-iv-fading-in").fadeIn(this._fadeTime,function(){this.$html.removeClass("pt-iv-fading pt-iv-fading-in")}.bind(this));this.$currentNum.html(this._currentIndex+1);setTimeout(function(){this._showImage(t(s).attr("href")||t(s).data("src"),t(s).data("title"))}.bind(this),150);t(e).on("keyup",this._onKeyUpHandler);t(e).on("resize",this._onResizeHandler);this._onResize()};s._onClose=function(i){this.$html.addClass("pt-iv-fading pt-iv-fading-out").fadeOut(this._fadeTime,function(){this.$html.removeClass("pt-iv-fading pt-iv-fading-out").detach();this._stageItems.forEach(function(e){t(e).remove()},this);this._stageItems.length=0;if(this._closeHandler){this._closeHandler&&this._closeHandler.call(this,this)}}.bind(this));t("body").removeClass("pt-iv-modal");this.$html.removeClass("pt-iv-first-open");t(e).off("keyup",this._onKeyUpHandler);t(e).off("resize",this._onResizeHandler)};s._getImageItem=function(e){var i,s;if(this._imgItems.length>0){i=this._imgItems.pop();s=t(i).find("img").get(0)}else{i=document.createElement("div");i.className="pt-iv-item";i.innerHTML='<div class="pt-iv-loading"><abbr class="pic-loader"></abbr></div>'}if(!s){s=new Image;s.onload=function(e){t(this).parent().addClass("pt-iv-img-loaded");this.style.opacity=1};s.alt="";i.appendChild(s)}i.__tweenX=0;var n=t(i);n.removeClass("pt-iv-img-loaded");s.style.opacity=0;s.src=e||this._emptyData;if(this._total>1){n.on(this._downEvt,this._onStartDrag.bind(this))}return i};s._getIsDblTap=function(){var t=(new Date).getTime();if(this._lastTapTime>0){var e=t-this._lastTapTime;if(e<500){this._lastTapTime=0;return true}}this._lastTapTime=t;return false};s._onStartDrag=function(i){var s=i.originalEvent;s.preventDefault();if(t(s.target).hasClass("pt-iv-item")){return}if(!this._canDrag)return;this._canDrag=false;var n=s.currentTarget;this._dragTarget=n;t(e).off(this._moveEvt,this._onDraggingHandler).on(this._moveEvt,this._onDraggingHandler);t(e).off(this._upEvt,this._onDragEndHandler).on(this._upEvt,this._onDragEndHandler);this.$imgContent.addClass("pt-iv-press");this._oldMouseX=this._getMouseX(s);this._currentX=0;this._startDragX=this._currentX};s._onDragging=function(e){var i=e.originalEvent;i.preventDefault();var s=this._getMouseX(i);this._currentX+=s-this._oldMouseX;this._oldMouseX=s;this._renderX(t(this._dragTarget),this._currentX)};s._onDragEnd=function(i){t(e).off(this._moveEvt,this._onDraggingHandler);t(e).off(this._upEvt,this._onDragEndHandler);if(this._dragTarget){this._dragTarget.__tweenX=this._currentX}var s=this._currentX-this._startDragX;if(this._isRTL){s=-s}var n=false;if(s<-this._dragDistance){if(this._isRTL){n=this._currentIndex>=0&&this._currentIndex<this._total-1}else{n=this._currentIndex<this._total-1}this._loop||n?this._onNext():this._dragBack()}else if(s>this._dragDistance){if(this._isRTL){n=this._currentIndex>0&&this._currentIndex<=this._total-1}else{n=this._currentIndex>0}this._loop||n?this._onPrev():this._dragBack()}else{this._dragBack()}this.$imgContent.removeClass("pt-iv-press");this._dragTarget=null};s._updateArrow=function(){if(this._total<2||this._loop)return;var t=this.$prevBtn,e=this.$nextBtn,i="pt-iv-btn-disabled";if(this._currentIndex<=0){t.addClass(i);e.removeClass(i)}else if(this._currentIndex>=this._total-1){t.removeClass(i);e.addClass(i)}else{t.removeClass(i);e.removeClass(i)}};s._getMouseX=function(t){var e;if(this._isDevice){var i=t.changedTouches,s;s=i[0];if(s){e=s.pageX}else{e=t.pageX!==undefined?t.pageX:t.clientX}}else{e=t.pageX!==undefined?t.pageX:t.clientX}return e};s._checkInCD=function(){if(this._inCD)return true;setTimeout(function(){this._inCD=false}.bind(this),this._cd);this._inCD=true;return false};s.execute=function(t,e){if(!t||this._allowCalls.indexOf(t)<0){return}if(e&&!Array.isArray(e)){e=[e]}var i=this[t];if(i&&typeof i=="function"){i.apply(this,e||[])}};s.dispose=function(){this.$items.off("click",this._onOpenHandler);this.$html.remove();var i=t(e);i.off("keyup",this._onKeyUpHandler);i.off("resize",this._onResizeHandler);i.off(this._moveEvt,this._onDraggingHandler);i.off(this._upEvt,this._onDragEndHandler);var s=this._element;if(s){s.__ivInstance=null;this._element=null}this._closeHandler=null};t.fn.extend({ptImageViewer:function(t){var e;this.each(function(){e=this.__ivInstance;if(e){e.updateData()}else{new i(this,t)}});return this},ptImageViewerCall:function(t,e){this.each(function(){var i=this.__ivInstance;i&&i.execute(t,e)});return this}})}(jQuery,window);!function(t){"use strict";var e=function(e,i){this._element=e;this._element.__ptHScroller=this;this.$element=t(this._element);var s=null;if(i.wrapTarget&&typeof i.wrapTarget==="object"){s=t(i.wrapTarget)}else{s=this.$element.find(i.wrapTarget||".wrap")}this.$content=s;var n=null;if(i.viewportTarget&&typeof i.viewportTarget==="object"){n=t(i.viewportTarget)}else if(i.viewportTarget){n=this.$content.find(i.viewportTarget)}this.$scroller=this.$element.find(".list-scroller");this._items=[];if(n){n.each(function(e,i){this._items.push(t(i))}.bind(this))}createjs.Ticker.timingMode=createjs.Ticker.RAF;this._scrollOffset=i.scrollOffset==undefined?.1:i.scrollOffset;this._scrollSpeed=i.scrollSpeed==undefined?350:i.scrollSpeed;this._scrollEase=i.scrollEase||"cubicOut";this._scrollOverride=i.override==undefined?true:i.override;this._wheelTarget=i.wheelTarget||"";this._preventDefaultScroll=i.preventDefaultScroll==undefined?true:i.preventDefaultScroll;this._onWheelBeforeHandler=i.onWheelBefore||null;this._onWheelAfterHandler=i.onWheelAfter||null;this._disposed=false;this._scrollDistance=0;this._allowCalls=["scrollTo","enableViewport","resize","dispose"];this._x=0;this._scrollX=0;this._scrollerX=0;this._oldMouseX=0;this._currentX=0;this._enableMouseWheel=false;this._containerX=0;this._width=0;this._contentWidth=0;this._offsetWidth=0;this._stepOffset=0;this._tweenValue=0;this._scrollRectWidth=0;this._isRTL=(t("body").css("direction")||"").toLowerCase()=="rtl";this._cssXProp=this._isRTL?"right":"left";this._isTweening=false;this._inviewClass=i.viewportAddClass||"init-viewport";this._enableCheckViewport=i.enableViewport||false;if(this._inviewClass.indexOf(".")===0){this._inviewClass=this._inviewClass.substring(1)}this._isDragging=false;this._tweenMoveScroller=false;this._aniValue=0;this._isIE9=navigator.userAgent.indexOf("MSIE 9.0")>-1;this._onMouseWheelHandler=this._onMouseWheel.bind(this);if(this._wheelTarget){t(this._wheelTarget).on("wheel",this._onMouseWheelHandler)}else{this.$element.on("wheel",this._onMouseWheelHandler)}this._onKeyDownHandler=this._onKeyDown.bind(this);t(window).on("keydown",this._onKeyDownHandler);this._onAniUpdateHandler=this._onAniUpdate.bind(this);this._onAniCompleteHandler=this._onAniComplete.bind(this);window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)};this._onResizeHandler=this._onResize.bind(this);t(window).on("resize",this._onResizeHandler);this._onStartDragHandler=this._onStartDrag.bind(this);this._onDraggingHandler=this._onDragging.bind(this);this._onStopDragHandler=this._onStopDrag.bind(this);this.$scroller.on("mousedown",this._onStartDragHandler);this._onResize();this._onScrollHandler=i.onScroll||null;this._onScrollEndHandler=i.onScrollEnd||null};var i=e.prototype;i._onResize=function(t){this._containerX=this.$element.offset().left;this._width=this.$element.width();this._contentWidth=this.$content.get(0)?this.$content.get(0).scrollWidth:0;this._offsetWidth=this._contentWidth-this._width;this._scrollDistance=Math.floor(this._scrollOffset*this._width);if(this._offsetWidth<=0){this._enableMouseWheel=false}else{this._enableMouseWheel=true}this._scrollRectWidth=parseInt(this.$scroller.parent().css("width"))||this._width;if(this._offsetWidth<=0){this.$scroller.hide()}else{this.$scroller.css("display","block");var e=this._scrollerX/this._scrollRectWidth*100;this.$scroller.css(this._cssXProp,e+"%")}if(this._x+this._contentWidth<this._width){this._x=this._width-this._contentWidth;if(this._x>0){this._x=0}}this._render(true)};i._onKeyDown=function(t){switch(t.keyCode){case 37:case 38:this._toPrev(2);break;case 39:case 40:this._toNext(2);break}};i._onMouseWheel=function(t){if(!this._enableMouseWheel)return;if(this._isDragging)return;var e=t.originalEvent;if(this._preventDefaultScroll)e.preventDefault();if(this._onWheelBeforeHandler)this._onWheelBeforeHandler();if(e.deltaY<0){this._toPrev()}else if(e.deltaY>0){this._toNext()}if(this._onWheelAfterHandler){this._onWheelAfterHandler()}};i._onStartDrag=function(e){e.preventDefault();e.stopPropagation();t(window).off("mousemove",this._onDraggingHandler);t(window).off("mouseup",this._onStopDragHandler);t(window).on("mousemove",this._onDraggingHandler);t(window).on("mouseup",this._onStopDragHandler);this._isDragging=true;this.$scroller.addClass("dragging");this._oldMouseX=e.pageX==undefined?e.clientX:e.pageX;this._currentX=this._scrollerX};i._onDragging=function(t){t.preventDefault();t.stopPropagation();var e=t.pageX==undefined?t.clientX:t.pageX;if(this._isRTL){this._currentX-=e-this._oldMouseX}else{this._currentX+=e-this._oldMouseX}this._oldMouseX=e;if(this._currentX<0){this._currentX=0}else if(this._currentX>this._scrollRectWidth){this._currentX=this._scrollRectWidth}var i=this._currentX/this._scrollRectWidth;this._scrollerX=this._currentX;this.$scroller.css(this._cssXProp,i*100+"%");var s=this._offsetWidth*i*-1;this._scrollX=s;this._tweenX(s,false)};i._onStopDrag=function(e){e.preventDefault();e.stopPropagation();t(window).off("mousemove",this._onDraggingHandler);t(window).off("mouseup",this._onStopDragHandler);this._isDragging=false;this.$scroller.removeClass("dragging")};i._render=function(t){var e=this._items.length;if(this._enableCheckViewport&&e>0){var i,s;for(var n=e-1;n>=0;n--){i=this._items[n];s=i.offset().left-this._containerX;if(s>-i.width()&&s<this._width){i.addClass(this._inviewClass);this._items.splice(n,1)}}}var a=this._isRTL?-this._x:this._x;if(this._isIE9){this.$content.css("-ms-transform","translateX("+a+"px)")}else{this.$content.css({transform:"translate3d("+a+"px,0,0)"})}var h=Math.floor(-1*this._x/this._offsetWidth*this._scrollRectWidth);var r=h/this._scrollRectWidth;if(t&&this._scrollerX!==h){this._scrollerX=h;this.$scroller.css(this._cssXProp,r*100+"%")}if(this._onScrollHandler){this._onScrollHandler(r)}};i._toPrev=function(t){var e=t==undefined?this._scrollDistance:this._scrollDistance*t;var i;if(this._isTweening&&this._scrollOverride){i=this._scrollX+e}else{i=this._x+e}if(i>0){i=0}this._aniValue=this._x;this._scrollX=i;this._tweenX(i,true)};i._toNext=function(t){var e=t==undefined?this._scrollDistance:this._scrollDistance*t;var i;if(this._isTweening&&this._scrollOverride){i=this._scrollX-e}else{i=this._x-e}if(i<-this._offsetWidth){i=-this._offsetWidth}this._aniValue=this._x;this._scrollX=i;this._tweenX(i,true)};i._tweenX=function(t,e){if(this._x===t){return}this._tweenMoveScroller=e;this._isTweening=true;createjs.Tween.get(this,{override:true,onChange:this._onAniUpdateHandler}).to({_aniValue:t},this._scrollSpeed,createjs.Ease[this._scrollEase]||createjs.Ease.cubicOut).call(this._onAniCompleteHandler)};i._onAniUpdate=function(t){this._x=this._aniValue;this._render(this._tweenMoveScroller)};i._onAniComplete=function(){this._isTweening=false;if(this._onScrollEndHandler){setTimeout(this._onScrollEndHandler,0)}};i.enableViewport=function(t){this._enableCheckViewport=t};i.resize=function(){this._onResize()};i.scrollTo=function(t){this._tweenX(t)};i.execute=function(t,e){if(!t||this._allowCalls.indexOf(t)<0){return}if(!Array.isArray(e)){e=[e]}var i=this[t];if(i&&typeof i==="function"){i.apply(this,e)}};i.dispose=function(){if(this._disposed)return;this._disposed=true;createjs.Tween.removeTweens(this);if(this._onResizeHandler){t(window).off("resize",this._onResizeHandler);this._onResizeHandler=null}if(this._element){this.$element.off("mouseenter mouseleave mousemove wheel");this._element.__ptHScroller=null;this._element=null}if(this._wheelTarget){t(this._wheelTarget).off("wheel",this._onMouseWheelHandler)}this._enableMouseWheel=false;this._onAniUpdateHandler=null;this._onMouseWheelHandler=null;this._onWheelBeforeHandler=null;this._onWheelAfterHandler=null;t(window).off("keydown",this._onKeyDownHandler);this._onKeyDownHandler=null;this.$scroller.off("mousedown",this._onStartDragHandler);t(window).off("mousemove",this._onDraggingHandler);t(window).off("mouseup",this._onStopDragHandler);this._onStartDragHandler=null;this._onDraggingHandler=null;this._onStopDragHandler=null;this._onScrollHandler=null;this._onScrollEndHandler=null};t.fn.extend({ptHScroller:function(t){this.each(function(){var i=this.__ptHScroller;i&&i.dispose();new e(this,t)});return this},ptHScrollerCall:function(t,e){this.each(function(){var i=this.__ptHScroller;i&&i.execute(t,e)})},ptHScrollerDispose:function(){this.each(function(){var t=this.__ptHScroller;t&&t.dispose()});return this}})}(jQuery);!function(t){"use strict";var e=function(e){this._element=e;this._element.__ptAniTxt=this;createjs.Ticker.timingMode=createjs.Ticker.RAF;this._isIE9=navigator.userAgent.indexOf("MSIE 9.0")>-1;var i=t(this._element);this._text=i.text()||"";this._html=i.html()||"";this._spans=[];this._tweenObjs={};this._allowCalls=["reset","dispose"];this._disposed=false;this._type=1;this._data=null;this._startHandler=null;this._completeHanlder=null;this._tweenIndex=0;this._tweenCount=0;this._isShow=false;this._onTweenUpdateHandler=this._onTweenUpdate.bind(this);this._onTweenCompleteHandler=this._onTweenComplete.bind(this)};var i=e.prototype;i.init=function(e){this._data=e;this._type=e.type||1;this._startHandler=e.start;this._completeHanlder=e.complete;var i=t(this._element);var s=e["targetClass"]||"pt-ani-text";i.addClass(s);this._tweenCount=0;var n=this.getParsedHTML(this._text,this._html);i.html(n);i.find(".span-holder>span").each(function(t,e){this._spans.push(e);this._tweenObjs["t"+t]={x:0,y:0,alpha:0,target:e};e.style.opacity=0;e.style.position="relative";e.style.display="inline-block";this._tweenCount++}.bind(this));this._element.style.opacity=1};i.getParsedHTML=function(t,e){var i=/<br\s?\/?>/i;var s,n=0,a=[],h=[];while(s=e.match(i)){h.push(s.index+n);e=e.substring(s.index+s[0].length);n+=s.index}var r,l=h.length,o=0,d=0,_=[];for(r=0;r<l;r++){o=h[r];if(o!=d){_.push("");_.push("<br/>");a.push(t.substring(d,o));d=o}else{_.push("<br/>")}}if(o<t.length-1){_.push("");a.push(t.substring(o))}var u,c,f=[],p,m,g;a.forEach(function(t){p=t.split(" ");u=[];p.forEach(function(t){if(t!=""){m="";g=t.split("");g.forEach(function(t){m+="<span>"+t+"</span>"});c='<span class="span-holder">'+m+"</span>"}else{c=""}u.push(c)});f.push(u.join("<span> </span>"))});var v="";_.forEach(function(t){if(t==""){t=f.shift()||""}v+=t});return v};i.tween=function(t){var e=this._data;t=t==undefined?true:t;this._isShow=t;this._startHandler&&this._startHandler(this._isShow,this,this._element);if(this._type==1){this.tweenPosition(t,e["minTime"],e["maxTime"],e["minDelay"],e["maxDelay"],e["minX"],e["maxX"],e["minY"],e["maxY"],e["ease"])}else if(this._type==2){this.tweenOpacity(t,e["time"],e["timeGap"],e["ease"],e["direct"])}else if(this._type==3){this.tweenOpacityRandom(t,e["minTime"],e["maxTime"],e["minDelay"],e["maxDelay"],e["ease"])}};i.tweenPosition=function(e,i,s,n,a,h,r,l,o,d){i=i==undefined?100:i;s=s==undefined?1e3:s;n=n==undefined?0:n;a=a==undefined?1e3:a;h=h==undefined?-50:h;r=r==undefined?50:r;l=l==undefined?-50:l;o=o==undefined?50:o;d=d==undefined?"linear":d;this._tweenIndex=0;var _=this._spans.length,u,c,f,p,m=0,g=0,v;while(_--){u=this._spans[_];c=t(u);if(u.innerHTML==" "){continue}f=Math.floor(Math.random()*(s-i)+i);p=Math.floor(Math.random()*(a-n)+n);v=this._tweenObjs["t"+_];if(h!=0&&r!=0){m=Math.floor(Math.random()*(r-h)+h)}if(l!=0&&o!=0){g=Math.floor(Math.random()*(o-l)+l)}if(e){v.x=m;v.y=g;v.alpha=parseFloat(c.css("opacity"))||0;this._updateProps(c,v.x,v.y,v.alpha);this._tweenProps(v,{x:0,y:0,alpha:1,time:f,delay:p,ease:d})}else{this._tweenProps(v,{x:m,y:g,alpha:0,time:f,delay:p,ease:d})}}};i.tweenOpacity=function(e,i,s,n,a){i=i==undefined?1e3:i;s=s==undefined?.05:s;n=n==undefined?"linear":n;a=a==undefined?1:a;var h=this._spans.length,r,i,l,o;var d=e?1:0;for(var _=0;_<h;_++){r=this._spans[_];if(r.innerHTML==" "){continue}if(a==1){l=_*s}else{l=(h-1-_)*s}o=this._tweenObjs["t"+_];o.alpha=parseFloat(t(r).css("opacity"))||0;this._tweenProps(o,{alpha:d,time:i,delay:l,ease:n})}};i.tweenOpacityRandom=function(e,i,s,n,a,h){i=i==undefined?100:i;s=s==undefined?1e3:s;n=n==undefined?0:n;a=a==undefined?1e3:a;h=h==undefined?"linear":h;var r=this._spans.length,l,o,d,_;var u=e?1:0;for(var c=0;c<r;c++){l=this._spans[c];if(l.innerHTML==" "){continue}o=Math.floor(Math.random()*(s-i)+i);d=Math.floor(Math.random()*(a-n)+n);_=this._tweenObjs["t"+c];_.alpha=parseFloat(t(l).css("opacity"))||0;this._tweenProps(_,{alpha:u,time:o,delay:d,ease:h})}};i._tweenProps=function(t,e){var i;if(this._type==1){i={x:e.x,y:e.y,alpha:e.alpha}}else{i={alpha:e.alpha}}createjs.Tween.get(t,{override:true,onChange:this._onTweenUpdateHandler}).wait(e.delay).to(i,e.time,createjs.Ease[e.ease]||createjs.Ease.cubicOut).call(this._onTweenCompleteHandler)};i._updateProps=function(t,e,i,s){if(this._isIE9){t.css({transform:"translateX("+e+"px) translateY("+i+"px)",opacity:s||0})}else{t.css({transform:"translate3d("+e+"px,"+i+"px,0)",opacity:s||0})}};i._onTweenUpdate=function(e){var i=e.target;var s=i.target;var n=s.target;if(this._type==1){this._updateProps(t(n),s.x,s.y,s.alpha)}else{t(n).css("opacity",s.alpha)}};i._onTweenComplete=function(){if(!this._completeHanlder){return}this._tweenIndex++;if(this._tweenIndex>=this._tweenCount){this._tweenIndex=0;this._completeHanlder(this._isShow,this,this._element)}};i.reset=function(){if(this._spans){this._spans.forEach(function(t){t.style.opacity=0})}};i.execute=function(t,e){if(!t||this._allowCalls.indexOf(t)<0){return}var i=this[t];if(i&&typeof i=="function"){i.apply(this,e||[])}};i.dispose=function(){if(this._disposed)return;this._disposed=true;this._startHandler=null;this._completeHanlder=null;this._onTweenUpdateHandler=null;this._onTweenCompleteHandler=null;for(var t in this._tweenObjs){createjs.Tween.removeTweens(this._tweenObjs[t]);delete this._tweenObjs[t]}if(this._element){this._element.__ptAniTxt=null;this._element=null}};t.fn.extend({ptAniText:function(t){this.each(function(){var i=new e(this);i.init(t)});return this},ptFadeAniText:function(t){this.each(function(){if(this.__ptAniTxt){this.__ptAniTxt.tween(t)}});return this},ptResetAniText:function(){this.each(function(){this.__ptAniTxt&&this.__ptAniTxt.reset()});return this},ptAniTextCall:function(t,e){this.each(function(){var i=this.__ptAniTxt;i&&i.execute(t,e)});return this}})}(jQuery);!function(t,e){"use strict";if(!e.ptMediaPlayer){e.ptMediaPlayer={}}ptMediaPlayer.parseUrlParams=function(t){var e=t.indexOf("?");if(e==-1)return null;var i=t.substring(e+1);e=i.indexOf("#");if(e>-1){i=i.substring(0,e)}i=i.replace(/&amp;|&amp%3b/gi,"&");var s=i.split("&"),n;var a=s.length,h={};for(var r=0;r<a;r++){n=s[r].split("=");if(n.length>1){h[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}}return h};var i=function(e,i,s,n,a){this.type="vimeo";this._container=e;this._options=s;this._callback=n;this._playerMgr=a;this._isInited=false;this._needPlay=false;this._needPause=false;var h=this._options.full?"width:"+this._options.width+"px;height:"+this._options.height+"px;":"width:100%;height:100%;";var r='<div class="pt-vimeo-player" style="z-index:'+(s.controls?2:0)+";"+h+'position:absolute;left:0;top:0;"></div>';t(this._container).append(r);this._src=i;Object.defineProperty(this,"src",{get:this.getSrc})};var s=i.prototype;s.init=function(){var e={url:this._src,autopause:false,width:this._options.width,height:this._options.height,autoplay:this._options.autoplay?true:false,loop:this._options.loop?true:false};this.player=new Vimeo.Player(t(this._container).children(".pt-vimeo-player").get(0),e);this.player.setVolume(this._options.volume==undefined?1:this._options.volume);this.player.on("loaded",this.onPlayerReady.bind(this));this.player.on("ended",this._onPlayEnd.bind(this))};s.onPlayerReady=function(){t(this._container).animate({opacity:1},400);if(this._callback){this._callback.call(this._playerMgr)}this._isInited=true;this._playerMgr.onStart();if(this._needPlay){this._needPlay=false;this.play()}if(this._needPause){this._needPause=false;this.pause()}};s.play=function(){if(!this._isInited){this._needPlay=true}else{this.player.play()}};s.pause=function(){if(!this._isInited){this._needPause=true}else{this.player.pause()}};s._onPlayEnd=function(t){this._playerMgr.onEnd()};s.getSrc=function(){return this._src};s.dispose=function(){this.pause();this._callback=null;this._playerMgr=null;if(this.player){this.player.unload();this.player=null}};var n=function(e,i,s,n,a){this.type="youtube";this._container=e;this._options=s;this.player=null;this._callback=n;this._playerMgr=a;this._isInited=false;this._needPlay=false;this._needPause=false;var h=this._options.full?"width:"+this._options.width+"px;height:"+this._options.height+"px;":"width:100%;height:100%;";var r='<div class="pt-youtube-player" style="z-index:'+(s.controls?2:0)+";"+h+'position:absolute;left:0;top:0;"></div>';t(this._container).append(r);var l=ptMediaPlayer.parseUrlParams(i);if(l){if(l["hd"]){this._options["hd"]=true}}var o="v=";var d=1;if(i.match(/(youtube.com)/)){o="v=";d=1}if(i.match(/(youtu.be)/)){o="/";d=3}var _=i.split(o)[d];_=_.replace(/(&)+(.*)/,"");this._src=_;Object.defineProperty(this,"src",{get:this.getSrc})};var a=n.prototype;a.init=function(){this.player=new YT.Player(t(this._container).children(".pt-youtube-player").get(0),{videoId:this._src,width:this._options.width,height:this._options.height,playerVars:{autohide:1,autoplay:this._options.autoplay?1:0,disablekb:0,controls:this._options.controls?1:0,enablejsapi:1,modestbranding:1,showinfo:0,rel:0,wmode:"opaque",hd:this._options.hd?1:0},events:{onReady:this.onPlayerReady.bind(this),onStateChange:this.onPlayerStateChange.bind(this)}})};a.onPlayerStateChange=function(t){switch(t.data){case-1:break;case 0:if(this._options.loop){this.player.playVideo()}else{this._playerMgr.onEnd()}break;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break}};a.onPlayerReady=function(e){var i=this._options.volume==undefined?1:this._options.volume;this.player.setVolume(Math.floor(i*100));t(this._container).animate({opacity:1},400);if(this._callback){this._callback.call(this._playerMgr)}this._isInited=true;this._playerMgr.onStart();if(this._needPlay){this._needPlay=false;this.play()}if(this._needPause){this._needPause=false;this.pause()}};a.play=function(){if(!this._isInited){this._needPlay=true}else{this.player.playVideo()}};a.pause=function(){if(!this._isInited){this._needPause=true}else{this.player.pauseVideo()}};a.getSrc=function(){return this._src};a.dispose=function(){this.pause();this._callback=null;this._playerMgr=null;if(this.player){this.player.destroy();this.player=null}};var h=function(t,e,i,s,n){this.type="mp4";this._container=t;this._src=e;this._options=i;this._callback=s;this._playerMgr=n;this._loop=i.loop;this.player=null;Object.defineProperty(this,"src",{get:this.getSrc})};var r=h.prototype;r.init=function(){var e=this._options;var i=t(this._container);var s=e.volume!=undefined?e.volume:1;var n=e.autoplay?"autoplay":"";var a=e.controls?"controls":"";var h=e.width!=undefined?'width="'+e.width+'"':"";var r=e.height!=undefined?'height="'+e.height+'"':"";var l=e.loop?"loop":"";var o=[s,n,a,h,r,l];var d='<video src="'+this._src+'" '+o.join(" ")+' style="z-index:'+(e.controls?2:0)+';"></video>';i.append(d);this.player=i.children("video").get(0);this.player.volume=s;this.player.onended=this._onPlayEnd.bind(this);i.animate({opacity:1},400);if(this._callback){this._callback.call(this._playerMgr)}this._playerMgr.onStart()};r.play=function(){if(this.player){this.player.play()}};r.pause=function(){if(this.player){this.player.pause()}};r._onPlayEnd=function(t){if(!this._loop){this._playerMgr.onEnd()}};r.getSrc=function(){return this._src};r.dispose=function(){this.pause();if(this.player){this.player.onended=null;this.player=null}this._callback=null;this._playerMgr=null};var l=function(e,i){this._element=e;e.style.overflow="hidden";e.__ptMediaPlayer=this;i=i||{};this._options=i;if(i.full==undefined){i.full=true}if(i.mask==undefined){i.mask=true}this._src=i.src;this._type=i.type;this._fullshow=i.full;this._onStartHandler=i.onStart||null;this._onEndHandler=i.onEnd||null;var s='<div class="pt-video-container" style="width:100%;height:100%;position:relative;z-index:999;"></div>';this._container=t(s).get(0);this.$container=t(this._container);e.appendChild(this._container);var n=this._fullshow?"":"width:100%;height:100%;";var a='<div class="pt-video-holder '+(this._fullshow?"full":"not-full")+'" style="position:relative;opacity:0;'+n+'"></div>';this._holder=t(a).get(0);this.$holder=t(this._holder);this._container.appendChild(this._holder);if(i.mask){var h='<div class="pt-video-mask" style="width:100%;height:100%;z-index:1;overflow:hidden;position:absolute;top:0;left:0;"></div>';this.$container.append(h)}this._resizeHandler=this._onResize.bind(this);var r=t(e);if(r.data("type")!=undefined){this._type=r.data("type")}if(r.data("src")!=undefined){this._src=r.data("src")}if(r.data("volume")!=undefined){i.volume=r.data("volume")}if(r.data("loop")!=undefined){i.loop=r.data("loop")}if(r.data("autoplay")!=undefined){i.autoplay=r.data("autoplay")}if(r.data("controls")!=undefined){i.controls=r.data("controls")}var l=ptMediaPlayer.parseUrlParams(this._src);if(l){l.width=l.width||l.w||l.mw;l.height=l.height||l.h||l.mh;if(l.width!=undefined){i.width=l.width}if(l.height!=undefined){i.height=l.height}}if(i.width==undefined){i.width=640}if(i.height==undefined){i.height=360}i.width=parseInt(i.width);i.height=parseInt(i.height);this.$container.data("videoWidth",i.width);this.$container.data("videoHeight",i.height);this.player=null;this._vimeoJSId="__pt_vimeo_api";this._youtubeJSId="__pt_youtube_api";this._allowCalls=["dispose","play","pause"];this._isMobile=/Mobi|Tablet|iPad|iPhone|Android/i.test(navigator.userAgent);if(this._isMobile){i.mask=false}if((i.ignoreMobile||window.mpIgnoreMobile)&&this._isMobile){}else if(this._src){this.init()}};var o=l.prototype;o.init=function(){var s=this._options;switch(this._type){case"mp4":case"1":case 1:this._type="mp4";this.player=new h(this._holder,this._src,s,this._onResize,this);this.player.init();break;case"youtube":case"2":case 2:this._type="youtube";this.player=new n(this._holder,this._src,s,this._onResize,this);if(ptMediaPlayer.youtubeApiReady){this.player.init()}else{if(!ptMediaPlayer.youtubeWaitingPlayers){ptMediaPlayer.youtubeWaitingPlayers=[]}ptMediaPlayer.youtubeWaitingPlayers.push(this.player);if(!document.getElementById(this._youtubeJSId)){this._insertJS("https://www.youtube.com/iframe_api",null,this._youtubeJSId)}}break;case"vimeo":case"3":case 3:this._type="vimeo";this.player=new i(this._holder,this._src,s,this._onResize,this);if(ptMediaPlayer.vimeoApiReady){this.player.init()}else{if(!ptMediaPlayer.vimeoWaitingPlayers){ptMediaPlayer.vimeoWaitingPlayers=[]}ptMediaPlayer.vimeoWaitingPlayers.push(this.player);if(!document.getElementById(this._vimeoJSId)){this._insertJS("https://player.vimeo.com/api/player.js",e.onPTVimeoAPIReady,this._vimeoJSId)}}break;default:this._type="mp4";this.player=new h(this._holder,this._src,s,this._onResize,this);break}if(this._fullshow){t(e).on("resize",this._resizeHandler)}};o.onStart=function(){if(this._onStartHandler){this._onStartHandler(this._element,this.player)}};o.onEnd=function(){if(this._onEndHandler){this._onEndHandler(this._element,this.player)}};o._onResize=function(t){if(!this._fullshow){return}var e=this.$container;var i=this.$holder;var s=e.data("videoWidth");var n=e.data("videoHeight");var a=this._container.clientWidth;var h=this._container.clientHeight;var r=Math.max(a/(s-5),h/(n-5));var l,o,d,_;if(this._type=="mp4"){d=s*r;_=n*r;l=(a-d>>1)-1;o=(h-_>>1)-1;i.css({left:l+"px",top:o+"px",width:d+2+"px",height:_+2+"px"})}else{var u=i.find("iframe");d=s*r+2;_=n*r+2;l=(a-d>>1)-1;o=(h-_>>1)-1;u.css({width:d+"px",height:_+"px"});i.css({left:l+"px",top:o+"px"})}};o._insertJS=function(t,e,i){var s=document.createElement("script");if(e){if(s.readyState){s.onreadystatechange=function(){if(s.readyState==="loaded"||s.readyState==="complete"){s.onreadystatechange=null;e()}}}else{s.onload=function(){e()}}}s.src=t;if(i){s.id=i}var n=document.getElementsByTagName("script")[0];if(n){n.parentNode.insertBefore(s,n)}else{var a=document.getElementsByTagName("head")[0];a.appendChild(s)}};o.play=function(){this.player.play()};o.pause=function(){this.player.pause()};o.execute=function(t,e){if(!this.player||!t||this._allowCalls.indexOf(t)<0){return}if(e&&!Array.isArray(e)){e=[e]}var i=this[t];if(i&&typeof i=="function"){i.apply(this,e||[])}};o.dispose=function(i){if(this.player){var s;if(ptMediaPlayer.vimeoWaitingPlayers){s=ptMediaPlayer.vimeoWaitingPlayers.indexOf(this.player);if(s>-1){ptMediaPlayer.vimeoWaitingPlayers.splice(s,1)}}if(ptMediaPlayer.vimeoWaitingPlayers){s=ptMediaPlayer.vimeoWaitingPlayers.indexOf(this.player);if(s>-1){ptMediaPlayer.vimeoWaitingPlayers.splice(s,1)}}this.player.dispose();this.player=null}if(i){this.$container.remove()}if(this._resizeHandler){t(e).off("resize",this._resizeHandler);this._resizeHandler=null}if(this._element){this._element.__ptMediaPlayer=null;this._element=null}};e.onPTVimeoAPIReady=function(){ptMediaPlayer.vimeoApiReady=true;if(ptMediaPlayer.vimeoWaitingPlayers){var t=ptMediaPlayer.vimeoWaitingPlayers.length,e;while(t--){e=ptMediaPlayer.vimeoWaitingPlayers[t];e&&e.init()}ptMediaPlayer.vimeoWaitingPlayers.length=0}};e.onYouTubeIframeAPIReady=function(){ptMediaPlayer.youtubeApiReady=true;if(ptMediaPlayer.youtubeWaitingPlayers){var t=ptMediaPlayer.youtubeWaitingPlayers.length,e;while(t--){e=ptMediaPlayer.youtubeWaitingPlayers[t];e&&e.init()}ptMediaPlayer.youtubeWaitingPlayers.length=0}};t.fn.extend({ptMediaPlayer:function(t){this.each(function(){var e=this.__ptMediaPlayer;e&&e.dispose();new l(this,t)});return this},ptMediaPlayerCall:function(t,e){this.each(function(){var i=this.__ptMediaPlayer;i&&i.execute(t,e)});return this}})}(jQuery,window);!function(t){"use strict";var e=function(e,i){this._element=e;this._element.__ptTetris=this;createjs.Ticker.timingMode=createjs.Ticker.RAF;this._targetClass=i.targetClass||".item";this._columnAddClass=i.columnAddClass||"pt-column";this._breakpoints=i.breakpoints||[];this._randomRange=i.randomRange||null;this._direct=i.direct||0;this._useAnimate=i.useAnimate==undefined?true:i.useAnimate;this._animateTime=i.animateTime==undefined?500:i.animateTime;this._animateEasing=i.animateEasing||"cubicOut";this._tweenObjs={};this._column=0;if(this._columnAddClass.indexOf(".")==0){this._columnAddClass=this._columnAddClass.substring(1)}this._isIE9=navigator.userAgent.indexOf("MSIE 9.0")>-1;this._disposed=false;this.$element=t(this._element);this.$items=null;this._items=[];this._total=0;this._divs=[];this._onResizeHandler=this._onResize.bind(this);t(window).on("resize",this._onResizeHandler);this._onScrollHandler=this._onScroll.bind(this);t(window).on("scroll",this._onScrollHandler);this.updateData()};var i=e.prototype;i.updateData=function(){this.$items=this.$element.find(this._targetClass);this._items.length=0;this.$items.each(function(e,i){t(i).data("index",e+1);this._items[e]=i}.bind(this));this._total=this._items.length;this._onResize()};i._onResize=function(t){var e=window.innerWidth;var i=this._getColumn(e);if(i!=this._column){this._column=i;this.$element.data("column",i);this._process(i)}this._onScroll(t)};i._onScroll=function(e){var i=this._divs.length,s,n;var a=t(document).height()-window.innerHeight;var h=t(document).scrollTop();var r=h==a?1:a==0?0:h/a;var l,o;for(var d=0;d<i;d++){n=t(this._divs[d]);s=parseFloat(n.css("marginTop"))+parseInt(n.data("offset"));l=-2*r*s;if(this._direct!=0){l*=-1}if(this._useAnimate){this._tweenY(n,l)}else{this._updateY(n,l)}}};i._tweenY=function(t,e){var i="col-"+t.data("col");var s=this._tweenObjs[i];if(!s){s={y:e};this._tweenObjs[i]=s}s.target=t;createjs.Tween.get(s,{override:true,onChange:this._onTweenUpdate.bind(this)}).to({y:e},this._animateTime,createjs.Ease[this._animateEasing]||createjs.Ease.cubicOut)};i._onTweenUpdate=function(t){var e=t.target;var i=e.target;this._updateY(i.target,i.y)};i._updateY=function(t,e){if(this._isIE9){t.css({transform:"translateY("+e+"px)"})}else{t.css("transform","translate3d(0,"+e+"px,0)")}};i._process=function(e){var i=[];var s=Math.floor(this._total/e);if(s<1)s=1;var n,a,h=0,r=Math.max(this._divs.length,e),l,o,d=this._randomRange;for(n=0;n<r;n++){l=this._divs[n];if(!l){l=document.createElement("div");this._divs[n]=l;if(d&&d.length>1){o=d[0]+Math.floor(Math.random()*(d[1]-d[0]))}else{o=0}t(l).data("offset",o)}t(l).data("col",n+1).children(this._targetClass).each(function(){t(this).detach()});if(n<e){l.className="no-"+(n+1)+" "+this._columnAddClass;this.$element.append(l)}else{l.className="";t(l).detach()}}for(n=0;n<s;n++){for(a=0;a<e;a++){if(!i[a])i[a]=[];i[a].push(h++)}}var _=this._total-s*e;var u=Math.round(e/2);var c=u-Math.floor(_/(e/2));if(c<2)c=2;for(n=0;n<_;n++){i[c-1+n].push(h++)}var f;for(n=0;n<e;n++){f=i[n];l=this._divs[n];f.forEach(function(e){t(l).append(this._items[e])},this)}};i._getColumn=function(t){var e,i,s,n,a=this._breakpoints.length;for(e=0;e<a;e++){n=this._breakpoints[e];i=n.min||0;s=n.max||16777215;if(t>=i&&t<=s){return n.col||1}}return 1};i.resize=function(){this._onResize()};i.execute=function(t,e){var i=this[t];if(i&&typeof i=="function"){i.apply(this,e||[])}};i.dispose=function(){if(this._disposed)return;this._disposed=true;if(this._onResizeHandler){t(window).off("resize",this._onResizeHandler);this._onResizeHandler=null}if(this._onScrollHandler){t(window).off("scroll",this._onScrollHandler);this._onScrollHandler=null}if(this._tweenObjs){for(var e in this._tweenObjs){createjs.Tween.removeTweens(this._tweenObjs[e]);delete this._tweenObjs[e]}this._tweenObjs=null}if(this._element){this._element.__ptTetris=null;this._element=null}};t.fn.extend({ptTetris:function(t){this.each(function(){var i=this.__ptTetris;i&&i.dispose();new e(this,t||{})});return this},ptTetrisCall:function(t,e){this.each(function(){var i=this.__ptTetris;i&&i.execute(t,e)});return this},ptTetrisDispose:function(){this.each(function(){var t=this.__ptTetris;t&&t.dispose()});return this}})}(jQuery);!function(t,e){"use strict";var i=function(i,s){this._element=i;i.__ptHitTest=this;this._targetClass=s.targetClass||".item";this._selectOne=s.selectOne==undefined?true:s.selectOne;this._addClass=s.addClass||"current";this._topOffsetY=s.topOffsetY==undefined?100:s.topOffsetY;this._bottomOffsetY=s.bottomOffsetY==undefined?100:s.bottomOffsetY;if(this._addClass.indexOf(".")==0){this._addClass=this._addClass.substring(1)}this.$hitArea=s.hitArea;if(this.$hitArea&&!(this.$hitArea instanceof jQuery)){this.$hitArea=t(this.$hitArea)}createjs.Ticker.timingMode=createjs.Ticker.RAF;this._onBeforeChanged=s.onBeforeChanged;this._onChanged=s.onChanged;this._onFilterHandler=s.onFilter;this._aniValue=0;this._disposed=false;this._disabledScroll=false;this._selectItems=[];this.$element=t(i);this.$items=this.$element.find(this._targetClass);this._hiddenItems=[];this._itemCount=this.$items.length;this._allowCalls=["filter","selectItem","resize","dispose"];this._onAniUpdateHandler=this._onAniUpdate.bind(this);this._onAniCompleteHandler=this._onAniComplete.bind(this);this._onResizeHandler=this._onResize.bind(this);t(e).on("resize",this._onResizeHandler);this._onScrollHandler=this._onScroll.bind(this);t(e).on("scroll",this._onScrollHandler);this._onResize()};var s=i.prototype;s.filter=function(e){var i=this;var s=[],n=[],a=[],h=[];this.$items.each(function(i,r){var l=false;var o=t(this);if(e){e.forEach(function(t){if(o.hasClass(t)){l=true}})}else{l=true}if(!l){a.push(this);h.push(i)}else{s.push(this);n.push(i)}});this._hiddenItems=a;this._onFilterHandler&&this._onFilterHandler.call(this,s,a,n,h);this._onResize()};s._onResize=function(t){this._onScroll()};s._onScroll=function(i){if(this._disabledScroll){return}var s=this;var n=[];this.$items.each(function(){if(s._hiddenItems.indexOf(this)>-1){return}n.push(this)});var a=t(e);var h=a.scrollTop()<this._topOffsetY;if(h){this._handle([{target:t(n[0]),offsetY:0}]);return}var r=a.scrollTop()+a.height()>=t(document).height()-this._bottomOffsetY;if(r){this._handle([{target:t(n[n.length-1]),offsetY:0}]);return}var l=this.$hitArea.offset();var o=this.$hitArea.get(0);var d=l.left,_=l.top,u=o.clientWidth,c=o.clientHeight;var f=[d,_,u,c];var p,m,g,v,y,w,b,T=[];this.$items.each(function(){if(s._hiddenItems.indexOf(this)>-1){return}w=t(this);y=w.offset();p=y.left,m=y.top,g=this.clientWidth,v=this.clientHeight;b=[p,m,g,v];if(s._intersects(f,b)){T.push({target:w,offsetY:Math.abs(m+v/2-(_+c/2))})}});if(T.length>0){this._handle(T)}};s._handle=function(t){var e;if(this._selectOne){t.sort(function(t,e){return t.offsetY-e.offsetY});e=[t[0].target]}else{e=[];t.forEach(function(t){e.push(t.target)},this)}if(this._selectItems.length>0){var i=true;if(this._selectItems.length==e.length){var s,n=e.length;for(s=0;s<n;s++){if(this._selectItems[s].get(0)!=e[s].get(0)){i=false;break}}}if(i){return}}this._selectItems=e.concat();this.$items.removeClass(this._addClass);if(this._onBeforeChanged){this._onBeforeChanged(e)}e.forEach(function(t){t.addClass(this._addClass)},this);if(this._onChanged){this._onChanged(e)}};s._intersects=function(t,e){var i=Math.abs(t[0]+t[2]/2-(e[0]+e[2]/2));var s=Math.abs(t[1]+t[3]/2-(e[1]+e[3]/2));return i+i<t[2]+e[2]&&s+s<t[3]+e[3]};s.selectItem=function(i,s,n,a){var h=this.$hitArea.offset();var r=this.$hitArea.get(0);var l=h.top,o=r.clientHeight;var d=t(i);var _=d.offset();var u=_.top,c=i.clientHeight;var f=u-l+(c-o)/2;var p=t(e).scrollTop()+f;if(p<0)p=0;var m=t(document).height()-t(e).height();if(s==undefined)s=800;if(m<500){s=500}else{s=s*Math.abs(f)/m}if(!n||!createjs.Ease[n]){n=createjs.Ease.cubicOut}if(a){this._disabledScroll=true}this._aniValue=t(e).scrollTop();createjs.Tween.get(this,{override:true,onChange:this._onAniUpdateHandler}).to({_aniValue:p},s,n).call(this._onAniCompleteHandler)};s._onAniUpdate=function(e){t("html,body").scrollTop(this._aniValue)};s._onAniComplete=function(){this._disabledScroll=false;this._onResize()};s.resize=function(){this._onResize()};s.execute=function(t,e){if(!t||this._allowCalls.indexOf(t)<0){return}var i=this[t];if(i&&typeof i=="function"){i.apply(this,e||[])}};s.dispose=function(){if(this._disposed)return;this._disposed=true;t(e).off("resize",this._onResizeHandler);t(e).off("scroll",this._onScrollHandler);this._element.__ptHitTest=null;this._element=null;this._onAniUpdateHandler=null;this._onAniCompleteHandler=null;this._onFilterHandler=null};t.fn.extend({ptHitTest:function(t){this.each(function(){var e=this.__ptHitTest;e&&e.dispose();new i(this,t||{})});return this},ptHitTestCall:function(t,e){this.each(function(){var i=this.__ptHitTest;i&&i.execute(t,e)})}})}(jQuery,window);!function(t,e){"use strict";var i=[];var s=function(e,s){i.push(this);this._element=e;this.$element=t(e);e.__ptAreaRoll=this;createjs.Ticker.timingMode=createjs.Ticker.RAF;this._moveRatio=s.moveRatio==undefined?.8:s.moveRatio;this._animateTime=s.animateTime==undefined?500:s.animateTime;this._easing=s.easing==undefined?"quartOut":s.easing;this._useWheel=s.useWheel==undefined?true:s.useWheel;this._winWidth=0;this._targetHeight=0;this._eleHeight=0;this._moveDistance=0;this._y=0;this._tweenValue=0;this._allowCalls=["dispose","resize"];this._isDevice=/Mobi|Tablet|iPad|iPhone|Android/i.test(navigator.userAgent);if(this._isDevice){this._useWheel=false;this.$element.addClass("pt-area-roll-device")}this._clickEvt=this._isDevice?"touchend mouseup":"click";this._onResizeHandler=this._onResize.bind(this);this._onWheelHandler=this._onWheel.bind(this);this._onTweenUpdateHandler=this._onTweenUpdate.bind(this);this.$target=null;this.$wrap=null;this.$prevBtn=null;this.$nextBtn=null;this._init()};var n=s.prototype;n._init=function(){var i=this.$element;i.wrapInner('<div class="pt-area-roll-inner"></div>');i.wrap('<div class="pt-area-roll-wrap"></div>');i.on("scroll",function(t){var e=i.scrollTop();this._y=-e;this._updateButtonState(this._y)}.bind(this));this.$target=i.children(".pt-area-roll-inner");var s=i.parent();this.$wrap=s;var n='<div class="pt-area-roll-up pt-area-roll-btn"></div>';n+='<div class="pt-area-roll-down pt-area-roll-btn"></div>';s.append(n);this.$prevBtn=s.children(".pt-area-roll-up");this.$nextBtn=s.children(".pt-area-roll-down");this.$prevBtn.on(this._clickEvt,this._onPrev.bind(this));this.$nextBtn.on(this._clickEvt,this._onNext.bind(this));t(e).on("resize",this._onResizeHandler);this._onResize()};n._onResize=function(i){var s=t(e).width();if(i){if(this._winWidth===s){return}}this._winWidth=s;this._targetHeight=this.$target.height();this._eleHeight=t(this._element).height();this._moveDistance=Math.ceil(this._eleHeight*this._moveRatio);if(this._useWheel){if(this._targetHeight>this._eleHeight){this._element.addEventListener("wheel",this._onWheelHandler,true)}else{this._element.removeEventListener("wheel",this._onWheelHandler,true)}}if(this._y>=0){this._y=0}if(this._y<=this._eleHeight-this._targetHeight){this._y=this._eleHeight-this._targetHeight}this._render(false)};n.resize=function(){this._onResize()};n._onWheel=function(t){if(this._eleHeight>=this._targetHeight){return}if(t.deltaY<0){if(this._y>=0){return}t.preventDefault();this._onPrev()}else if(t.deltaY>0){if(this._y<=this._eleHeight-this._targetHeight){return}t.preventDefault();this._onNext()}};n._onPrev=function(t){if(t){t.preventDefault();t.stopPropagation()}if(this._eleHeight>=this._targetHeight){return}if(this._y>=0){return}this._y+=this._moveDistance;if(this._y>=0){this._y=0}this._render(true)};n._onNext=function(t){if(t){t.preventDefault();t.stopPropagation()}if(this._eleHeight>=this._targetHeight){return}if(this._y<=this._eleHeight-this._targetHeight){return}this._y-=this._moveDistance;if(this._y<=this._eleHeight-this._targetHeight){this._y=this._eleHeight-this._targetHeight}this._render(true)};n._render=function(t){if(this._isDevice){if(t){this._tweenValue=this.$element.scrollTop();createjs.Tween.get(this,{override:true,onChange:this._onTweenUpdateHandler}).to({_tweenValue:-this._y},this._animateTime,createjs.Ease[this._easing]||createjs.Ease.cubicOut)}else{this.$element.scrollTop(-this._y)}}else{if(t){this._tweenValue=parseInt(this.$target.css("top"));createjs.Tween.get(this,{override:true,onChange:this._onTweenUpdateHandler}).to({_tweenValue:this._y},this._animateTime,createjs.Ease[this._easing]||createjs.Ease.cubicOut)}else{this.$target.css("top",this._y+"px")}}this._updateButtonState(this._y)};n._onTweenUpdate=function(t){if(this._isDevice){this.$element.scrollTop(this._tweenValue)}else{this.$target.css("top",this._tweenValue+"px")}};n._updateButtonState=function(t){if(this._eleHeight>=this._targetHeight){this.$prevBtn.addClass("disabled");this.$nextBtn.addClass("disabled");this.$wrap.addClass("no-roll")}else if(t>=0){this.$prevBtn.addClass("disabled");this.$nextBtn.removeClass("disabled");this.$wrap.removeClass("no-roll")}else if(t<=this._eleHeight-this._targetHeight){this.$prevBtn.removeClass("disabled");this.$nextBtn.addClass("disabled");this.$wrap.removeClass("no-roll")}else{this.$prevBtn.removeClass("disabled");this.$nextBtn.removeClass("disabled");this.$wrap.removeClass("no-roll")}};n.execute=function(t,e){if(!t||this._allowCalls.indexOf(t)<0){return}if(e&&!Array.isArray(e)){e=[e]}var i=this[t];if(i&&typeof i=="function"){i.apply(this,e||[])}};n.dispose=function(){this.$prevBtn&&this.$prevBtn.off(this._clickEvt);this.$nextBtn&&this.$nextBtn.off(this._clickEvt);this.$target&&this.$target.stop();if(this._element){if(this._useWheel){this._element.removeEventListener("wheel",this._onWheelHandler,true)}this._element.__ptAreaRoll=null;this._element=null}createjs.Tween.removeTweens(this);this._onWheelHandler=null;this._onTweenUpdateHandler=null;var t=i.indexOf(this);if(t>-1){i.splice(t,1)}};t.fn.extend({ptAreaRoll:function(t){this.each(function(){var e=this.__ptAreaRoll;e&&e.dispose();new s(this,t||{})});return this},ptAreaRollCall:function(t,e){this.each(function(){var i=this.__ptAreaRoll;i&&i.execute(t,e)});return this}});e.addEventListener("load",function(t){i.forEach(function(t){t&&t.resize()})})}(jQuery,window);!function(t,e){"use strict";var i=function(e,i){this._element=e;this._element.__ptParallax=this;this.$element=t(e);createjs.Ticker.timingMode=createjs.Ticker.RAF;this._targetQuery=i.target||".item";this._addClass=i.addClass||"pt-parallax";this._addTargetClass=i.addTargetClass||"pt-parallax-target";this._useAnimate=i.useAnimate==undefined?true:i.useAnimate;this._animateTime=i.animateTime==undefined?500:i.animateTime;this._animateEasing=i.animateEasing||createjs.Ease.cubicOut;this._offset=parseFloat(this.$element.data("offset")||0)||0;this._direct=this.$element.data("direct")=="1"?1:0;if(this._offset<0){this._offset=0}this._eleWidth=0;this._eleHeight=0;this._targetHeight=0;this._offsetHeight=0;this._forceAnimate=false;if(this._addClass.indexOf(".")==0){this._addClass=this._addClass.substring(1)}if(this._addTargetClass.indexOf(".")==0){this._addTargetClass=this._addTargetClass.substring(1)}this.$element.addClass(this._addClass);this._onResizeHandler=null;this._onScrollHandler=null;this._onAniUpdateHandler=null;this._aniValue=0;this.$target=this.$element.find(this._targetQuery);if(this.$target.length>0){this._init()}};var s=i.prototype;s._init=function(){if(this._addTargetClass){this.$target.addClass(this._addTargetClass)}var i=t(e);this._onResizeHandler=this._onResize.bind(this);i.on("resize",this._onResizeHandler);this._onScrollHandler=this._onScroll.bind(this);i.on("scroll",this._onScrollHandler);this._onAniUpdateHandler=this._onAniUpdate.bind(this);this._onResize()};s._onResize=function(i){var s=t(e).height();this._eleWidth=this._element.clientWidth;this._eleHeight=this._element.clientHeight;this._targetHeight=Math.ceil(this._eleHeight+this._eleHeight*this._offset*((s-this._eleHeight)/s));this._offsetHeight=Math.ceil(this._eleHeight*this._offset);this.$target.css("height",this._targetHeight+"px");this._onScroll()};s._onScroll=function(i){var s=this.$element,n=t(e).scrollTop(),a=s.offset().top,h=t(e).height();if(a+this._eleHeight>n&&a<n+h){var r=this.$target,l=0,o,d;if(this._direct==0){o=n-a;d=o/h;l=d*this._offsetHeight}else{o=n-a-this._eleHeight;d=o/(h+this._eleHeight);l=-1*(d+1)*this._offsetHeight}if(this._useAnimate||this._forceAnimate){createjs.Tween.get(this,{override:true,onChange:this._onAniUpdateHandler}).to({_aniValue:l},this._animateTime,createjs.Ease[this._animateEasing]||createjs.Ease.cubicOut)}else{this._renderY(r,l)}}};s._onAniUpdate=function(){this._renderY(this.$target,this._aniValue)};s._renderY=function(t,e){e=Math.round(e);t.css("transform","translate3d(0,"+e+"px,0)")};s.resize=function(){this._forceAnimate=true;this._onResize();this._forceAnimate=false};s.execute=function(t,e){if(t.indexOf("_")===0){return}var i=this[t];if(i&&typeof i=="function"){i.apply(this,e||[])}};s.dispose=function(){var i=t(e);if(this._onScrollHandler){i.off("scroll",this._onScrollHandler);this._onScrollHandler=null}if(this._onResizeHandler){i.off("resize",this._onResizeHandler);this._onResizeHandler=null}if(this._element){this._element.__ptParallax=null;this._element=null}this._onAniUpdateHandler=null};t.fn.extend({ptParallax:function(t){var e=/Mobi|Tablet|iPad|iPhone|Android/i.test(navigator.userAgent);var s=!!window.ActiveXObject||"ActiveXObject"in window;if(e||s){return this}this.each(function(){var e=this.__ptParallax;e&&e.dispose();new i(this,t||{})});return this},ptParallaxCall:function(t,e){this.each(function(){var i=this.__ptParallax;i&&i.execute(t,e)});return this}})}(jQuery,window);!function(t,e){var i=function(i){this._animateTime=i.animateTime==undefined?500:i.animateTime;this._easing=i.easing||"quartOut";if(e.PT_SCROLL_STEP!=undefined){this._tweenStep=e.PT_SCROLL_STEP}if(e.PT_SCROLL_ANIMATE_TIME!=undefined){this._animateTime=e.PT_SCROLL_ANIMATE_TIME}if(e.PT_SCROLL_EASING!=undefined){this._easing=e.PT_SCROLL_EASING}createjs.Ticker.timingMode=createjs.Ticker.RAF;this._disposed=false;this._destY=-16777215;this._isComplete=true;this._viewHeight=0;this._tweenValue=0;this._onResizeHandler=this._onResize.bind(this);this._onWheelHandler=this._onWheel.bind(this);this._onTweenUpdateHandler=this._onTweenUpdate.bind(this);this._onTweenCompleteHandler=this._onTweenComplete.bind(this);this.$body=t("body");this._init()};var s=i.prototype;s._init=function(){var i=t(e);i.on("resize",this._onResizeHandler);i.on("wheel",this._onWheelHandler)};s._onResize=function(i){this._viewHeight=t(e).height()};s._onWheel=function(t){var e=t.originalEvent;if(e.defaultPrevented||e.ctrlKey){return}var i=getComputedStyle(document.body,"").getPropertyValue("overflow-y");var s=i!=="scroll"&&i!=="auto";if(s){return}if(this._checkUnderScrollable(e.target,e.deltaY<0)){return}e.preventDefault();e.stopPropagation();var n=e.deltaMode===0?e.deltaY:e.deltaY*60;if(e.deltaY<0){this._toPrev(n)}else if(e.deltaY>0){this._toNext(n)}};s._checkUnderScrollable=function(e,i){var s=document.body;var n,a=e;if(!t.contains(s,e)){return false}while(a&&a!==s){if(t(a).hasClass(this._disableTarget)){return true}n=getComputedStyle(a,"").getPropertyValue("overflow-y");if(n==="scroll"||n==="auto"){if(a.clientHeight<a.scrollHeight){if(i&&a.scrollTop>0||!i&&Math.round(a.scrollTop)<a.scrollHeight-a.clientHeight-1){return true}}}a=a.parentNode}return false};s._getPTScrollY=function(){return e.pageYOffset!==undefined?e.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop};s._toPrev=function(t){if(this._tweenValue<0)return;this._tween(t)};s._toNext=function(e){var i=t(document).height();if(this._tweenValue>=i-this._viewHeight)return;this._tween(e)};s._tween=function(t){if(this._destY==-16777215||this._isComplete){this._destY=this._getPTScrollY()}this._destY+=t;this._tweenValue=this._getPTScrollY();this._isComplete=false;createjs.Tween.get(this,{override:true,onChange:this._onTweenUpdateHandler}).to({_tweenValue:this._destY},this._animateTime,createjs.Ease[this._easing]||createjs.Ease.cubicOut).call(this._onTweenCompleteHandler)};s._onTweenUpdate=function(){var i=t(document).height();if(this._tweenValue<0){this._tweenValue=0;this._destY=0;this._isComplete=true;createjs.Tween.removeTweens(this)}else if(this._tweenValue>=i-this._viewHeight){this._tweenValue=i-this._viewHeight;this._destY=i-this._viewHeight;this._isComplete=true;createjs.Tween.removeTweens(this)}e.scrollTo(0,this._tweenValue)};s._onTweenComplete=function(){this._isComplete=true};s.dispose=function(){if(this._disposed)return;this._disposed=true;var i=t(e);i.off("resize",this._onResizeHandler);i.off("wheel",this._onWheelHandler);createjs.Tween.removeTweens(this);this._onTweenUpdateHandler=null;this._onTweenCompleteHandler=null;this._onResizeHandler=null;this._onWheelHandler=null};t.fn.extend({ptSmoothScroll:function(t){var s=navigator.userAgent;var n=/opera|opr/i.test(s);var a=/chrome|crios|crmo/i.test(s)&&!n;var h=/Mobi|Tablet|iPad|iPhone|Android/i.test(s);var r=/windows|win32/i.test(s);if(a&&r&&!h&&!e.__ptSmoothScroll){e.__ptSmoothScroll=new i(t||{})}return this},ptSmoothScrollDispose:function(){if(e.__ptSmoothScroll){e.__ptSmoothScroll.dispose();e.__ptSmoothScroll=null;delete e.__ptSmoothScroll}return this}})}(jQuery,window);